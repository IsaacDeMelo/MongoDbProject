<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página de Notícias</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- background-image: url(https://www.pixelstalk.net/wp-content/uploads/2016/03/One-Piece-Wallpaper-1920x1080p.jpg);
            background-size: cover;
            background-position: center;
            background-attachment: fixed;-->
    <style>
        * {
            transition: 1s background-color linear;
        }

        :root {
            --i: 0;
        }

        .loading-screen[move="1"] {
            animation: disappear 2s ease-in-out forwards;
        }

        .loading-screen[move="2"] {
            animation: reappear 2s ease-in-out forwards;
        }

        @keyframes disappear {
            0% {
                opacity: 100%;
                transform: translateY(0%);
            }

            50% {
                background-color: transparent;
                opacity: 0%;
            }

            100% {
                transform: translateY(100%);
            }
        }

        @keyframes reappear {
            0% {
                opacity: 0%;
                transform: translateY(100%);
                background-color: transparent;
            }

            50% {
                opacity: 100%;
            }

            100% {
                background-color: #d8e0d8;
                transform: translateY(0%);
            }
        }

        .solid {
            position: relative;
            width: 100px;
            height: 100px;
            animation: spin 16s infinite linear;
            transform-style: preserve-3d;
        }

        .solid .side {
            position: absolute;
            left: 0;
            bottom: 50%;
            border-bottom: 86.6px solid black;
            border-left: 50px solid transparent;
            border-right: 50px solid transparent;
            transform-origin: 50% 0%;
        }

        .solid .side:nth-child(1) {
            transform: translateY(-9.25px) rotateY(72deg) rotateX(52.62deg);
            border-bottom-color: rgba(134, 7, 147, 0.4);
        }

        .solid .side:nth-child(2) {
            transform: translateY(-9.25px) rotateY(144deg) rotateX(52.62deg);
            border-bottom-color: rgba(42, 160, 39, 0.4);
        }

        .solid .side:nth-child(3) {
            transform: translateY(-9.25px) rotateY(216deg) rotateX(52.62deg);
            border-bottom-color: rgba(209, 83, 84, 0.4);
        }

        .solid .side:nth-child(4) {
            transform: translateY(-9.25px) rotateY(288deg) rotateX(52.62deg);
            border-bottom-color: rgba(244, 202, 236, 0.4);
        }

        .solid .side:nth-child(5) {
            transform: translateY(-9.25px) rotateY(360deg) rotateX(52.62deg);
            border-bottom-color: rgba(73, 232, 200, 0.4);
        }

        .solid .side:nth-child(6) {
            transform: translateY(180.9px) rotateY(468deg) rotateX(127.38deg);
            border-bottom-color: rgba(105, 77, 3, 0.4);
        }

        .solid .side:nth-child(7) {
            transform: translateY(180.9px) rotateY(540deg) rotateX(127.38deg);
            border-bottom-color: rgba(255, 45, 71, 0.4);
        }

        .solid .side:nth-child(8) {
            transform: translateY(180.9px) rotateY(612deg) rotateX(127.38deg);
            border-bottom-color: rgba(177, 172, 3, 0.4);
        }

        .solid .side:nth-child(9) {
            transform: translateY(180.9px) rotateY(684deg) rotateX(127.38deg);
            border-bottom-color: rgba(175, 200, 228, 0.4);
        }

        .solid .side:nth-child(10) {
            transform: translateY(180.9px) rotateY(756deg) rotateX(127.38deg);
            border-bottom-color: rgba(187, 195, 141, 0.4);
        }

        .solid .side:nth-child(11) {
            transform: translateY(43.3px) rotateY(828deg) translateZ(85.05px) rotateX(-10.81deg);
            border-bottom-color: rgba(212, 249, 1, 0.4);
        }

        .solid .side:nth-child(12) {
            transform: translateY(43.3px) rotateY(900deg) translateZ(85.05px) rotateX(-10.81deg);
            border-bottom-color: rgba(85, 161, 43, 0.4);
        }

        .solid .side:nth-child(13) {
            transform: translateY(43.3px) rotateY(972deg) translateZ(85.05px) rotateX(-10.81deg);
            border-bottom-color: rgba(15, 209, 47, 0.4);
        }

        .solid .side:nth-child(14) {
            transform: translateY(43.3px) rotateY(1044deg) translateZ(85.05px) rotateX(-10.81deg);
            border-bottom-color: rgba(131, 69, 22, 0.4);
        }

        .solid .side:nth-child(15) {
            transform: translateY(43.3px) rotateY(1116deg) translateZ(85.05px) rotateX(-10.81deg);
            border-bottom-color: rgba(43, 13, 170, 0.4);
        }

        .solid .side:nth-child(16) {
            transform: translateY(128.35px) rotateY(1152deg) rotateZ(180deg) translateZ(85.05px) rotateX(-10.81deg);
            border-bottom-color: rgba(68, 85, 95, 0.4);
        }

        .solid .side:nth-child(17) {
            transform: translateY(128.35px) rotateY(1224deg) rotateZ(180deg) translateZ(85.05px) rotateX(-10.81deg);
            border-bottom-color: rgba(159, 76, 176, 0.4);
        }

        .solid .side:nth-child(18) {
            transform: translateY(128.35px) rotateY(1296deg) rotateZ(180deg) translateZ(85.05px) rotateX(-10.81deg);
            border-bottom-color: rgba(54, 95, 172, 0.4);
        }

        .solid .side:nth-child(19) {
            transform: translateY(128.35px) rotateY(1368deg) rotateZ(180deg) translateZ(85.05px) rotateX(-10.81deg);
            border-bottom-color: rgba(162, 92, 204, 0.4);
        }

        .solid .side:nth-child(20) {
            transform: translateY(128.35px) rotateY(1440deg) rotateZ(180deg) translateZ(85.05px) rotateX(-10.81deg);
            border-bottom-color: rgba(218, 1, 139, 0.4);
        }

        @keyframes spin {
            0% {
                transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg);
            }

            100% {
                transform: rotateX(360deg) rotateY(720deg) rotateZ(1080deg);
            }
        }


        body {
            display: flex;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            background-color: #181818;
        }

        body.light-mode header {
            background-color: white;
        }

        body.light-mode {
            background-color: #dddddd;
            color: #333333;
        }

        body.light-mode section {
            background-color: #ffffff;
            color: #000000;
        }

        body.light-mode #theme-toggle {
            background-color: #dddddd;
        }

        #theme-toggle {
            position: fixed;
            cursor: pointer;
            z-index: 100;
            width: 200px;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            border-radius: 30px;
            height: 60px;
            padding-top: 5px;
            padding-bottom: 5px;
            padding-right: 10px;
            bottom: 110px;
            left: -150px;
            background-color: #181818;

        }

        #theme-toggle img {
            width: 40px;
            height: 40px;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .rotate-icon {
            transform: rotate(360deg);
            opacity: 0;
        }

        section {
            background-color: rgb(15, 15, 15);
            margin-top: 22vh;
            width: 85vw;
            border-radius: 10px;
            margin-bottom: 100px;
        }

        header {
            z-index: 10;
            width: 100vw;
            height: 18.5vh;
            background: rgb(14, 14, 14);
            position: fixed;
            top: 0px;
            box-shadow: 0px -20px 20px 20px black;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .responsive-element {
            border-radius: 5px;
            width: 300px;
            height: 100px;
            background-image: url(img/Background.webp);
            background-size: cover;
            background-position: center;
        }

        /* Tela de carregamento */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 101vw;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.97);
            color: #FF7F50;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 9999;
        }

        /* Animação do ícone de abóbora */
        #loading-icon {
            font-size: 60px;
            animation: spin 2s linear infinite;
        }

        #loading-screen img {
            font-size: 60px;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        /* Botão do menu no canto inferior direito */
        #menu-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
            /* background-color: #007bff;*/
            background-color: rgb(0, 77, 192);
            border: none;
            width: 60px;
            /* Definindo um tamanho fixo para o botão */
            height: 60px;
            /* Definindo um tamanho fixo para o botão */
            cursor: pointer;
            color: white;
            font-size: 24px;
            border-radius: 50%;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s ease;
            /* Transição para o fundo */
        }

        /* Menu de navegação */
        nav {
            box-sizing: border-box;
            width: 100vw;
            /* background: linear-gradient(to right top, #007bff, #007bff);*/
            background: linear-gradient(to top, rgb(0, 54, 136), rgb(0, 77, 192));
            display: flex;
            height: 0;
            overflow: hidden;
            /* Adiciona overflow para ocultar itens fora do menu fechado */
            justify-content: space-around;
            align-items: center;
            flex-direction: column;
            position: fixed;
            top: 18.5vh;
            transition: height 0.5s ease;
            z-index: 9;
            /* Transição suave de altura */
        }

        nav.open {
            height: 300px;
            padding: 2px 0;
            /* Define a altura desejada quando o menu estiver aberto */
        }

        /* Transição suave para o ícone dentro do botão */
        #menu-toggle i {
            transition: transform 0.3s ease, opacity 0.3s ease;
            font-size: 27px;
        }

        #menu-toggle i.fa-times {
            transform: rotate(180deg);
            /* Efeito de rotação para o ícone de fechar */
        }

        .coming-soon:hover {
            background-color: rgba(255, 255, 255, 0);
        }

        nav a {
            color: white;
            display: flex;
            justify-content: center;
            align-content: center;
            width: 100%;
            text-decoration: none;
            font-size: 18px;
            padding: 5px;

        }

        nav a p {
            font-size: 15px;
        }

        nav a i {
            margin-right: 8px;
            /* Espaçamento entre o ícone e o texto */
            font-size: 20px;
            /* Tamanho do ícone */
        }

        nav a:hover {
            background-color: rgba(255, 255, 255, 0.2);

        }

        #potato {
            width: 300px;
        }

        @media (max-width: 768px) {
            .responsive-element {
                width: 90vw;
            }

            section {
                width: 90vw;
            }

            nav a {
                font-size: 16px;
            }

            #menu-toggle {
                font-size: 20px;
                padding: 10px;
            }

            header {
                background-image: url(img/Background.webp);
                background-size: cover;
                background-position: center;
                box-shadow: 0px -20px 20px 20px black;
            }

            .responsive-element {
                display: none;
            }

            #potato {
                width: 100vw;
            }
        }

        .emoji {
            font-size: 40px;
            cursor: pointer;
            margin: 10px;
            transition: opacity 0.3s ease;
        }

        .emoji.hidden {
            opacity: 0;
            pointer-events: none;
        }
    </style>
</head>

<body>
    <header>
        <div class="responsive-element">
        </div>
    </header>

    <div id="theme-toggle">
        <img id="theme-icon"
            src="https://dejpknyizje2n.cloudfront.net/processing/raster/c65852b3154e442fa85d3a5405ee127a.png">
        <!-- Ícone da lua inicialmente (modo escuro) -->
    </div>


    <div id="loading-screen">
        <img src="https://cdn-icons-png.freepik.com/512/4204/4204458.png" width="150">
        <!--<img src="https://media.tenor.com/3_KCo0AqiAwAAAAi/shadowkitty-shadow.gif" width="150">-->
    </div>

    <!-- Botão do menu com ícone -->
    <button id="menu-toggle">
        <i class="fas fa-bars"></i> <!-- Ícone de menu fechado -->
    </button>
    <nav>
        <nav>
            <a href="#">
                <p><i class="fas fa-trophy"></i>Conquistas</p>
            </a>
            <a href="#">
                <p><i class="fas fa-book-open"></i>Ler Artigos</p>
            </a>

            <a class="#" href="#coming-soon">
                <p><i class="fas fa-coins"></i>Recompensas</p>
            </a>
        </nav>

    </nav>

    <section
        style="padding: 10px; display: flex; justify-content: center; align-items: center; flex-direction: column;">
        <!-- <img src="https://media.tenor.com/CHKoOOKvzx4AAAAi/one-piece-franky.gif" width="200">-->
        <div
            style="width: 100%; height: 250px; position: relative; display: flex; justify-content: center; align-items: center;">
            <img id="brook" style="position: absolute; transition: 2s all;"
                src="https://64.media.tumblr.com/2e4f63044d2a4c42414f502043e6d91c/tumblr_pxf35gIMcg1rzu84po1_400.png"
                width="200">
        </div>
        <% try { %>
            <h3 id="saudacao" style="margin: 0; color: rgb(0, 77, 192); font-weight: 200;"></h3>
            <p style="color: #333333">Estamos trabalhando na melhor otimização para o Desktop. Aguardem atualizações.
            </p>
            <script>
                function definirSaudacao() {
                    const saudacao = document.getElementById('saudacao');
                    // Ajustando a hora para o fuso horário de Brasília (GMT-3)
                    const horarioBrasilia = new Date().toLocaleString("pt-BR", { timeZone: "America/Sao_Paulo" });
                    const hora = new Date(horarioBrasilia).getHours();

                    if (hora >= 6 && hora < 18) {
                        saudacao.textContent = "Oi! Bom dia!";
                    } else {
                        saudacao.textContent = "Oi! Boa noite!";
                    }
                }
                // Atualiza a saudação a cada minuto
                definirSaudacao();
                setInterval(definirSaudacao, 60000);
            </script>

            <% } catch (error) { } %>
                <p style="margin: 20px; text-align: center; color: rgb(107, 107, 107); ">
                <section id="emoji-event"
                    style="margin: 0; padding: 10px; display: flex; flex-wrap: wrap; justify-content: center; align-items: center;">

                    <% emojis.forEach(emoji=> { %>
                        <span class="emoji" data-name="<%= emoji.name %>">
                            <%= emoji.code %>
                        </span>
                        <% }); %>
                </section>

                <br>
                </p>
    </section>
    <footer style="background-color: rgb(0, 54, 136);">
        <i>
            <p style="font-size: 12.5px; ">&copy; 2024 Hoard Piece - Dev. Isaac Ângelo</p>
        </i>
    </footer>
    <script>$(document).ready(function () {
            document.getElementById('theme-icon').src = "https://th.bing.com/th/id/R.1c467fdad18a69023bcb633641291b6d?rik=IpkamDzug%2bLuew&pid=ImgRaw&r=0";
            document.getElementById('theme-icon').src = "https://cdn-icons-png.flaticon.com/256/5454/5454272.png";
            let brook = document.getElementById('brook');
            setInterval(() => {
                brook.style.top = "0px";
                setTimeout(() => {
                    brook.style.top = "20px";
                }, 1000)
                setTimeout(() => {
                    brook.style.top = "80px";
                }, 2000)
                setTimeout(() => {
                    brook.style.top = "20px";
                }, 3000)
            }, 5000);
            setTimeout(() => {
                $("#loading-screen").css('display', 'none');
            }, 3000);
            let menuOpen = false;
            $('#menu-toggle').click(function () {
                if (true) {
                    alert("Em Manutenção.")
                } else {
                    menuOpen = !menuOpen;

                    // Alterna entre o ícone de barras (menu fechado) e o ícone de "x" (menu aberto)
                    if (menuOpen) {
                        $('#menu-toggle i').removeClass('fa-bars').addClass('fa-times'); // Ícone de fechar
                        $('nav').addClass('open'); // Adiciona a classe "open" ao menu
                    } else {
                        $('#menu-toggle i').removeClass('fa-times').addClass('fa-bars'); // Ícone de abrir
                        $('nav').removeClass('open'); // Remove a classe "open" do menu
                    }
                }
            });
            // Alternância de tema
            const sunIcon = 'https://th.bing.com/th/id/R.1c467fdad18a69023bcb633641291b6d?rik=IpkamDzug%2bLuew&pid=ImgRaw&r=0';
            const moonIcon = 'https://cdn-icons-png.flaticon.com/256/5454/5454272.png';

            // Carrega o tema salvo no localStorage
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'light') {
                $('body').addClass('light-mode');
                $('#theme-icon').attr('src', sunIcon);
            } else {
                $('#theme-icon').attr('src', moonIcon);
            }

            function fetchEmojis() {
                $.ajax({
                    type: 'GET',
                    url: '/emojis', // A rota que você criou
                    success: function (emojis) {
                        const emojiContainer = $('#emoji-event');
                        emojiContainer.empty(); // Limpa os emojis existentes
                        emojis.forEach(emoji => {
                            emojiContainer.append(`<span class="emoji" data-name="${emoji.name}">${emoji.code}</span>`);
                        });
                    },
                    error: function () {
                        console.error("Erro ao buscar emojis.");
                    }
                });
            }

            // Adicione o evento de clique usando delegação
            $(document).on('click', '.emoji', function () {
                if (true) {
                    alert("Em Manutenção.")
                } else {
                    if (localStorage.getItem('Clicked') !== null) {
                    } else {
                        localStorage.setItem('Clicked', false);

                        const emoji = $(this);
                        const emojiName = emoji.data('name');
                        const emojiHtml = emoji.html();
                        $('#card').css('display', 'flex');
                        document.getElementById('card').style.display = "flex";
                        document.getElementById('cardIcon').innerHTML = emojiHtml;
                        $.ajax({
                            type: 'POST',
                            url: '/click-emoji', // Defina a rota no backend
                            data: JSON.stringify({ emoji: emojiName }),
                            contentType: 'application/json',
                            success: function () {
                                // Oculta o emoji após a resposta bem-sucedida
                            },
                            error: function () {
                                alert("Erro ao registrar o clique no emoji.");
                            }
                        });
                    }
                }
            });

            // Atualiza emojis a cada 500 ms
            setInterval(fetchEmojis, 500);


            // Alternância de tema com animação
            $('#theme-toggle').click(function () {
                const themeIcon = $('#theme-icon');
                themeIcon.addClass('rotate-icon'); // Adiciona a classe para a rotação

                setTimeout(() => {
                    $('body').toggleClass('light-mode');
                    const isLightMode = $('body').hasClass('light-mode');
                    themeIcon.attr('src', isLightMode ? sunIcon : moonIcon);
                    localStorage.setItem('theme', isLightMode ? 'light' : 'dark');
                    themeIcon.removeClass('rotate-icon'); // Remove a classe após a transição
                }, 300);
            });
            setInterval(() => {

            }, 500);

        });

    </script>
</body>

</html>